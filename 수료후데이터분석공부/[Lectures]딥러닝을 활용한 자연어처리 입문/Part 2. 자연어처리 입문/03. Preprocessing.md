# 03. Preprocessing

## 01. 전처리 파이프라인

- 전처리는 반복적이고 끝이 없는 작업이지만 가장 중요하다.
- 문제 정의 → 데이터 수집 → 데이터 전처리 및 분석 → 알고리즘 적용 → 평가 → 배포
- 데이터(코퍼스)수집 → 정제 → 라벨링 → Tokenization → (Subword Segmentation) → Batchify



### Corpus(말뭉치)

자연어처리를 위한 문장들로 구성된 데이터셋

- Parallel Corpus: 대응되는 문장 쌍이 labeling 되어 있는 형태
- 포함된 언어 숫자에 따라, Monolingual Corpus, Bi-lingual Corpus, Multilingual Corpus



## 02. 코퍼스 수집

- 구입 : 양질의 데이터, 양이 제한적
- 외주 : 높은 비용, 인력이 추가 필요
- 무료 공개 데이터 : AI-HUB, WMT competition, Kaggle, OPUS, 양이 제한적
- 웹 크롤링 : 무한한 양의 코퍼스 수집 가능, 품질이 천차만별, 정제에 많은 노력 필요
  - 블로그, 뉴스 기사, Wikipedia, 커뮤니티, 자막...



## 03. 코퍼스 정제

- Task에 따른 노이즈 제거
  1. 기계적인 노이즈 제거
     1. 전각 문자 제거
     2. 대소문자 통일
     3. 정규식을 활용
  2. Interactive 노이즈 제거
     1. 정규식을 활용
     2. 노이즈 전부를 제거하는 것은 어려움

풀고자 하는 문제의 특성에 따라 전처리 전략이 다르다. → 이모티콘이 필요 없는 정보가 아닐 때도 많다.

- 인코딩 변환



## 04. 정규식 (Regular Expression)

1. Text Editor 활용

- 파일을 열어 적용 과정을 보면서 정제
- 바로 결과 확인
- 적용 과정이 log로 남지 않음

1. 전용 모듈 작성 및 활용

- Python등을 활용해 모듈을 만들고 regex 리스트를 파일로 받아서 처리
- 한번에 모든 regex를 적용
- 재활용 가능



### 정규식

- [ ]

   : 원소 중의 character = one of

  - `[2345cde]`은 2,3,4,5,c,d,e 중의 character

- [-]

   : 해당 연속 원소 중의 character = one of

  - `[2-5c-e]`은 2,3,4,5와 c,d,e 중의 character

- [^]

  : 원소 중에 없는 character = None of

  - `[^2-5c-e]`은 2,3,4,5와 c,d,e를 제외한 모든 character

- ( )

   : 각각에 지정

  - `(x)(yz)`은 x를 \1에 지정, yz를 \2에 지정

- |  : 둘 중에 하나, 그리고 \1에 지정

  - `(x|y)`은 x 또는 y

- **?** : 0번 또는 1번 나타남  ex. X?

- **+** : 1번 이상 나타남  ex. X+

- ***** : 나타나지 않을 수도, 반복될 수도 있음  ex. X*

- **{n}** : n번 반복  ex. X{n}, 카드 번호 [0-9]{4}

- **{n,}** : n번 이상 반복  ex. X{n,}

- **{n, m}** : n번부터 m번까지 반복  ex. X{n,m}

- **.** : any character

- **^ $** : 문장의 시작과 끝  ex. ^x$

- \s : 공백 문자

- \S: 공백 문자를 제외한 모든 문자

- \w: alphanumeric(알파벳+숫자)+'*' ([A-Za-z0-9*]와 같음)

- \W: non-alphanumeric 문자 및 '*' 제외 ([^A-Za-z0-9*]와 같음)

- \d: 숫자 ([0-9]와 같음)

- \D : 숫자를 제외한 모든 문자 ([^0-9]와 같음)